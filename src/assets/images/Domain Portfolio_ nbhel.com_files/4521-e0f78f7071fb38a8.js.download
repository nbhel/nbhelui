(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4521],{14288:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return re}});var o=n(85893),t=n(83899),s=n(40189),i=n.n(s),d=n(25640),a=n(97796),l=n.n(a),c=n(74752),u=n(47568),p=n(97582),m=n(11163),v=n(14416),f=n(32117),g=n.n(f),h=n(86122),x=n.n(h),y=n(11242),R=n(19898),j=n(78224),b=n.n(j);function C(e){var r,n=e.addProduct,t=e.cartUrl,s=e.error,i=e.isApiReseller,a=e.isPremiumDnsAvailable,l=(0,m.useRouter)(),c=function(){var e=(0,u.Z)((function(){var e;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,n({},{body:{productAdditions:[R.PREMIUM_DNS_PRODUCT]}})];case 1:return e=r.sent(),e.error?[3,3]:[4,l.push(t)];case 2:return r.sent(),[3,4];case 3:(0,y.k5)(),r.label=4;case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return a?(0,o.jsxs)("span",{children:[(0,o.jsx)(d.FormattedMessage,{id:"OPERATION_NOT_ALLOWED_29_PREMIUM"}),(0,o.jsx)("br",{})]}):(0,o.jsx)("span",{children:(0,o.jsx)(d.FormattedMessage,{values:{custom:i?null:function(e){return(0,o.jsx)(g(),{design:"inline","data-eid":b().formatEid("record_limit_error","premium_dns","click"),external:!0,onClick:c,text:e})},numberofrecords:null===s||void 0===s||null===(r=s.values)||void 0===r?void 0:r.recordAddLimit},id:i?"OPERATION_NOT_ALLOWED_29_API_RESELLER":null===s||void 0===s?void 0:s.code})})}C.propTypes={addProduct:i().func.isRequired,cartUrl:i().string.isRequired,error:i().object.isRequired,isApiReseller:i().bool.isRequired,isPremiumDnsAvailable:i().bool.isRequired};var I={addProduct:x().actionCreators.addProduct},_=(0,v.connect)((function(e){return{cartUrl:e.config.baseUrls.cartUrl,isApiReseller:e.config.isApiReseller}}),I)(C),N=n(7676),Z=n(92930),T=n(89579),F=n(14924),w=n(26042),M=n(69396),k=n(22677),E=n(18200),A=n(16608),D=n.n(A),U=n(36305),O=n(57632),L=n(25469),P=n.n(L),S=n(87501),X=n.n(S),z=n(25231);function q(e){var r=e.record,n=e.groupFields,t=e.errors,s=e.isUpdating,i=e.onChange,a=e.column,l=e.row,c=function(e){var n=r[k.XR].map((function(r){return r._keyId===e._keyId?e:r}));i((0,M.Z)((0,w.Z)({},r),(0,F.Z)({},k.XR,n)))},u=function(e){e.preventDefault(),i((0,M.Z)((0,w.Z)({},r),(0,F.Z)({},k.XR,(0,U.Z)(r[k.XR]).concat([{_keyId:(0,O.Z)()}]))))},p=(0,d.useIntl)().formatMessage,m=a[0],v=l[0];return(0,o.jsx)(o.Fragment,{children:n.map((function(e,d){v=l[0];var a=m;return m+=e.width,r[k.XR].map((function(l,f){var h,x=v;v=x+1;var y,R=!!r.rtype&&f===r[k.XR].length-1&&0===d,j=f>0&&!!n.find((function(e){var n,o,s,i,d=e.name;return null===t||void 0===t||null===(o=t[k.XR])||void 0===o||null===(s=o[null===(n=r[k.XR][f-1])||void 0===n?void 0:n._keyId])||void 0===s||null===(i=s[d])||void 0===i?void 0:i.code})),b=d+1===n.length,C=r[k.XR].length>1&&b&&r.rtype;return(0,o.jsx)(z.Z,{id:"".concat(r.rtype,"-").concat(e.name,"-").concat(l._keyId),row:[x,v],column:[a,m],record:l,field:e,errors:(null===t||void 0===t||null===(h=t[k.XR])||void 0===h?void 0:h[l._keyId])||{},isUpdating:s,onChange:c,hideLabel:0!==f,isAboveErrored:j,sideButton:C?(0,o.jsx)(g(),{onClick:(y=l._keyId,function(e){e.preventDefault();var n=(0,U.Z)(r[k.XR]);y===r._keyId?(n[1]=(0,M.Z)((0,w.Z)({},n[1]),{_keyId:y}),n=n.slice(1)):n=n.filter((function(e){return e._keyId!==y})),i((0,M.Z)((0,w.Z)({},r),(0,F.Z)({},k.XR,n)))}),icon:(0,o.jsx)(X(),{}),"aria-label":p({id:"dnsRecordRemoveValue"})}):null,lowerContent:R?(0,o.jsx)(g(),{design:"inline",icon:(0,o.jsx)(P(),{}),disabled:r[k.XR].length>9||s,onClick:u,className:"text-nowrap d-none d-md-inline-block",text:p({id:"dnsRecordAddAnotherValue"},{underline:function(e){return(0,o.jsx)("u",{children:e})}})}):null},"".concat(r.rtype,"-").concat(e.name,"-").concat(l._keyId))}))}))})}q.propTypes={record:i().object,groupFields:i().array,errors:i().object,isUpdating:i().bool,onChange:i().func,column:i().array,row:i().array};var H=n(21309),Q="_null";function V(e){var r=e.value,n=e.textId,t=e.errorId,s=e.placeholderId,i=e.hasError,a=e.isUpdating,l=e.onChange,c=e.zonesToRemove,u=void 0===c?[]:c,p=(0,d.useIntl)(),m=Object.keys(k.Zf).filter((function(e){return!(null===u||void 0===u?void 0:u.includes(e))}));return(0,o.jsxs)(H.Z,{className:"northstar-select-input",id:"dnsRecordIdDropdown","data-testid":"dnsRecordIdDropdown",invalid:i,disabled:a,required:!0,errorMessage:i?p.formatMessage({id:t||"dnsRecordTypeErrorMsg",defaultMessage:p.formatMessage({id:"dnsRecordTypeErrorMsg"})}):null,value:r||Q,onChange:l,label:p.formatMessage({id:n}),children:[s&&(0,o.jsx)("option",{value:Q,disabled:!0,children:p.formatMessage({id:s})}),m.map((function(e,r){return(0,o.jsx)("option",{value:e,children:p.formatMessage({id:k.Zf[e].textId})},"zonetype-".concat(r))}))]})}V.defaultProps={field:{}},V.propTypes={value:i().string,textId:i().string,placeholderId:i().string,errorId:i().string,hasError:i().bool,isUpdating:i().bool,onChange:i().func.isRequired,zonesToRemove:i().array};var W=V,B=(0,E.Q)();function J(e){var r=e.record,n=e.errors,s=e.isUpdating,i=e.onChange,d=e.zonesToRemove,a=(0,t.useState)({}),l=a[0],c=a[1],u=(0,o.jsx)("div",{style:{gridColumn:"1 / 3",gridRow:"1 / 2"},children:(0,o.jsx)(W,{zonesToRemove:d,value:r.rtype,placeholderId:"chooseAnOption",textId:"zoneType",errorId:n.rtype&&n.rtype.code,hasError:!!n.rtype,isUpdating:s,onChange:function(e){i((0,M.Z)((0,w.Z)({},r),{rtype:e}))}})},"".concat(r.rtype,"-rtype")),p=B[r.rtype||k.db.textId];if(r.rtype&&p.CustomFormFields){var m=B[r.rtype].CustomFormFields;return(0,o.jsx)("div",{className:D().gridContainer,children:(0,o.jsx)(m,{record:r,errors:n,isUpdating:s,onChange:i,typeInput:u})})}var v=!!p.addMoreFields&&!!r[k.XR]?p.groupedFields:p.fields,f=1,g=1,h=3;return(0,o.jsxs)("div",{className:D().gridContainer,"data-testid":"DnsRecordFormFields.".concat(r.guid?"edit":"add"),children:[u,v.map((function(e,t){return t>0&&(f+=g,g=1,h=1),e.map((function(e){var t,d,a=[h,h+=e.width],u=[f,f+(null!==(t=null===l||void 0===l?void 0:l[r.name])&&void 0!==t?t:1)];if(e.type===k.lA){var p=r[k.XR].length;return p>g&&(g=p),(0,o.jsx)(q,{row:u,column:a,record:r,groupFields:e.fields,groupWidth:e.width,errors:n,isUpdating:s,onChange:i},"dns-field-".concat(r.rtype,"-").concat(e.name))}return(0,o.jsx)(z.Z,{column:a,row:u,record:r,field:e,errors:n,isUpdating:s,onChange:i,setRowsUsed:(d=r.name,function(e){c((function(r){return(0,M.Z)((0,w.Z)({},r),(0,F.Z)({},d,e))}))})},"dns-field-".concat(r.rtype,"-").concat(e.name))}))}))]})}J.defaultProps={errors:{},isUpdating:!1},J.propTypes={record:i().object.isRequired,errors:i().object,isUpdating:i().bool,onChange:i().func.isRequired,zonesToRemove:i().array};var Y=J,G=n(68828),K=n.n(G);function $(e){var r,n,t=e.recordType,s=e.disabled,i=e.showClose,a=e.onClose,l=e.domainName,c=e.closeIcon,u=e.recordId,p=(0,d.useIntl)().formatMessage,m=k.Zf[t]||{};return(null===m||void 0===m||null===(r=m.description)||void 0===r||null===(n=r.props)||void 0===n?void 0:n.values)&&(m.description.props.values.domainName=l),i||m.description?(0,o.jsxs)("p",{className:"d-flex flex-nowrap justify-content-between",children:[m.description?(0,o.jsx)("span",{children:m.description}):(0,o.jsx)("span",{children:(0,o.jsx)(d.FormattedMessage,{id:"dnsAddRecordDesc"})}),i&&(0,o.jsx)(g(),{className:"p-0",icon:i?c||(0,o.jsx)(K(),{}):null,disabled:s,"aria-label":p({id:"Close"}),onClick:a})]},(t||"noTypeSelected")+u):null}$.defaultProps={showClose:!1,disabled:!1},$.propTypes={recordType:i().string,disabled:i().bool,showClose:i().bool,onClose:i().func.isRequired,domainName:i().string,recordId:i().string};var ee=$;function re(e){var r=e.record,n=e.isUpdating,t=e.domainName,s=e.onClose,i=e.fieldErrors,a=e.error,u=e.onRecordChange,p=e.closeIcon,m=e.showClose,v=e.isPremiumDnsAvailable,f=e.dataToLog,g=e.zonesToRemove,h=!r.guid,x=(0,d.useIntl)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{componentName:"DnsFormRecord - FormHeader",children:(0,o.jsx)(ee,{closeIcon:p,recordType:r.rtype,recordId:r._keyId||r.guid,disabled:n,showClose:m,onClose:function(){Z.Z.logAnalyticsEvent(h?T.z.dns_records_add_form_cancel:T.z.dns_records_edit_form_cancel,f),s()},domainName:t})}),(0,o.jsxs)(c.Z,{componentName:"DnsFormRecord - Form",children:[(0,o.jsx)("fieldset",{disabled:n,children:(0,o.jsx)(c.Z,{componentName:"DnsFormRecord - DnsRecordFormFields",children:(0,o.jsx)(Y,{record:r,errors:i,isUpdating:n,onChange:u,zonesToRemove:g})})}),a&&(0,o.jsx)(c.Z,{componentName:"DnsFormRecord - error",children:(0,o.jsx)("span",{className:"has-danger","data-testid":"errorProcessingDnsRecordContainer",children:(0,o.jsxs)("span",{className:"form-text d-flex m-0",children:[(0,o.jsx)(l(),{className:"mr-3"}),N.TOO_MANY_RECORDS_ERROR_CODES.includes(null===a||void 0===a?void 0:a.code)?(0,o.jsx)(_,{error:a,isPremiumDnsAvailable:v}):(0,o.jsx)("span",{children:(0,o.jsx)(d.FormattedMessage,{id:(null===a||void 0===a?void 0:a.code)||"recordNotAdded",values:null===a||void 0===a?void 0:a.values,defaultMessage:x.formatMessage({id:"recordNotAdded"})})})]})})})]})]})}re.propTypes={record:i().object,isUpdating:i().bool,domainName:i().string,onClose:i().func,fieldErrors:i().object,error:i().object,onRecordChange:i().func,closeIcon:i().node,showClose:i().bool,isPremiumDnsAvailable:i().bool,dataToLog:i().object,zonesToRemove:i().array}},34613:function(e,r,n){"use strict";var o=n(85893),t=(n(83899),n(40189)),s=n.n(t),i=n(25640),d=n(32117),a=n.n(d),l=n(52269),c=n(38010),u=n.n(c),p=n(87501),m=n.n(p),v=n(56682),f=n.n(v),g=n(78224),h=n.n(g),x=n(39043),y={Delete:(0,o.jsx)(m(),{}),Edit:(0,o.jsx)(u(),{})};function R(e){var r=e.record,n=e.labelId,t=e.tooltipLabelId,s=e.isReadOnly,d=e.onClick,c=(0,i.useIntl)().formatMessage,u="ns"===((null===r||void 0===r?void 0:r.rtype)||"").toLowerCase()?"cantChangeNSRecordFromTemplate":"cantChangeRecordFromTemplate";return(0,o.jsx)("td",{className:"align-middle",children:(0,x.wl)(r)?(0,o.jsx)("div",{className:"pt-2 pb-2",children:(0,o.jsx)(f(),{className:"fs-unmask",openOnHover:!0,autoHideTimeout:200,message:c({id:u},{providerName:null===l.data||void 0===l.data?void 0:l.data.privateLabelName}),children:(0,o.jsx)("span",{className:"text-muted",children:c({id:t})})})}):(0,o.jsx)(a(),{className:"northstar-button",text:y[n]?null:c({id:n}),"aria-label":c({id:n}),icon:y[n],disabled:s,"data-eid":h().formatEid("dns","dns".concat(n,"Record"),"click"),"data-testid":"template-record-".concat(n,"-").concat(null===r||void 0===r?void 0:r.guid),onClick:function(){d(r)}})})}R.propTypes={record:s().object,labelId:s().string,tooltipLabelId:s().string,isReadOnly:s().bool,onClick:s().func},r.Z=R},99381:function(e,r,n){"use strict";var o=n(85893),t=(n(83899),n(40189)),s=n.n(t),i=n(25640),d=n(40939),a=n.n(d),l=n(56682),c=n.n(l),u=function(e){var r=e.messageId,n=e.titleTextId;return(0,o.jsxs)("span",{className:"d-inline-flex align-items-center",children:[(0,o.jsx)(i.FormattedMessage,{id:n}),r&&(0,o.jsx)("span",{className:"ml-1",children:(0,o.jsx)(c(),{className:"fs-unmask",openOnHover:!0,autoHideTimeout:200,message:(0,o.jsx)(i.FormattedMessage,{id:r}),text:(0,o.jsx)("span",{className:"d-flex",children:(0,o.jsx)(a(),{width:18,height:25})})})})]})};u.propTypes={messageId:s().string,titleTextId:s().string},r.Z=u},74752:function(e,r,n){"use strict";var o=n(51438),t=n(52951),s=n(88029),i=n(5950),d=n(83899),a=n.n(d),l=n(11163),c=n.n(l),u=n(14416),p=n(41174),m=n(40189),v=n.n(m),f=function(e){(0,s.Z)(n,e);var r=(0,i.Z)(n);function n(e){var t;return(0,o.Z)(this,n),(t=r.call(this,e)).state={hasError:!1},t}return(0,t.Z)(n,[{key:"componentDidCatch",value:function(e,r){(0,p.logger)({err:"Unhandled Exception occurred",componentName:this.props.componentName,error:e?e.toString():"",errorInfo:r,data:this.props.data?JSON.stringify(this.props.data):""})}},{key:"render",value:function(){return this.state.hasError&&!this.props.isLocal&&c().push("/control/error"),this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a().Component);f.propTypes={componentName:v().string,data:v().any,isLocal:v().bool,children:v().node},r.Z=(0,u.connect)((function(e){var r,n;return{isLocal:"test.local"===((null===(r=e.config)||void 0===r||null===(n=r.urlConfig)||void 0===n?void 0:n.env)||"")}}))(f)},77273:function(e,r,n){"use strict";n.d(r,{FormattedMessage:function(){return t.b},useIntl:function(){return l}});var o=n(25640),t=n(4105),s=n(26042),i=n(69396),d=n(41174),a=function(e){return function(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.id,t=n.description,s=n.defaultMessage,i=n.source,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof o||!(null===(r=e.messages)||void 0===r?void 0:r[o])){var l=i?" Referenced from ".concat(i,"."):"";(0,d.logger)({err:"".concat(o," does not exist in the ").concat(e.locale," locale file.").concat(l)},"formattedIntlMessage")}return e.formatMessage({id:o,description:t,defaultMessage:s},a)}},l=function(){var e=(0,o.useIntl)();return(0,i.Z)((0,s.Z)({},e),{formatMessage:a(e)})}},18200:function(e,r,n){"use strict";n.d(r,{Q:function(){return s}});var o=n(26042),t=n(22677);function s(){var e=(0,o.Z)({},t.Zf);return Object.values(e).forEach((function(e){if(e.addMoreFields){var r=[],n={type:t.lA,width:0,fields:[]},o=!0,s=!1,i=void 0;try{for(var d,a=e.fields[Symbol.iterator]();!(o=(d=a.next()).done);o=!0){var l=d.value,c=[],u=!0,p=!1,m=void 0;try{for(var v,f=l[Symbol.iterator]();!(u=(v=f.next()).done);u=!0){var g=v.value;e.addMoreFields[g.name]?(0===n.fields.length&&c.push(n),n.width+=g.width,n.fields.push(g)):c.push(g)}}catch(h){p=!0,m=h}finally{try{u||null==f.return||f.return()}finally{if(p)throw m}}r.push(c)}}catch(h){s=!0,i=h}finally{try{o||null==a.return||a.return()}finally{if(s)throw i}}e.groupedFields=r}else e.groupedFields=e.fields})),e}},48002:function(e,r,n){"use strict";n.d(r,{Z:function(){return i}});var o=n(26042),t=n(83081),s=(0,n(18200).Q)();function i(e,r){var n,i=null===s||void 0===s?void 0:s[e.rtype];return(null===i||void 0===i?void 0:i.preSaveTransform)&&(e=i.preSaveTransform((0,o.Z)({},e))),((null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase())||"")==="".concat(null===r||void 0===r?void 0:r.toLowerCase(),".")&&(e.name="@"),(null===i||void 0===i?void 0:i.useExplicitFieldRecord)?(0,t.H)(e):e}},16608:function(e){e.exports={gridContainer:"FormFields_gridContainer__SVLjb"}}}]);